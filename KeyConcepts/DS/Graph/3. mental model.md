To remember every major graph algorithm without getting confused, use the **"Water & Pipes"** mental model. Imagine your graph is a network of pipes and the nodes are junctions.

### The Universal Mental Model: The Pipe Network

| Algorithm | The "Water" Action | Logic in One Sentence |
| --- | --- | --- |
| **BFS** | **A Sudden Burst** | Water bursts from the start and hits every junction at the same time; the first time a junction gets wet, that's the shortest path. |
| **Dijkstra** | **The Flow Meter** | You turn on the tap slowly; water always follows the path of least resistance (lowest weight) first. |
| **A*** | **The Magnets** | Same as Dijkstra, but you put a giant magnet at the destination to "pull" the water toward the goal faster. |
| **Bellman-Ford** | **The Pressure Check** | You walk through the whole system $V-1$ times, tightening every loose bolt (edge) until the pressure (distance) can't be optimized anymore. |
| **Kruskal’s (MST)** | **The Independent Plumbers** | Plumbers start fixing individual pipes everywhere, always picking the cheapest one first, but they stop if a pipe creates a useless loop. |
| **Prim’s (MST)** | **The Growing Patch** | You start fixing pipes from one junction and only ever connect new pipes that touch the area you’ve already fixed. |
| **Topological Sort** | **The Domino Effect** | You can only knock down a domino (node) if all the dominos pointing at it have already fallen. |
| **Kosaraju’s (SCC)** | **The One-Way Valve** | You flow water through, then flip all the one-way valves; if water gets trapped in a room, that room is a Strongly Connected Component. |


## The "Universal Mental Model" (Water & Pipes)

*To remember these during the interview, visualize your graph as a plumbing system:*

* **Shortest Path (BFS/Dijkstra/A*):** How fast can water get from point A to B?
* **MST (Kruskal/Prim):** What is the cheapest way to lay down pipes so every house has water?
* **SCC (Kosaraju/Tarjan):** If I pour water here, will it get trapped in a circular loop and never leave?
* **Topological Sort (Kahn's):** I can't turn on Pipe B until Pipe A is already installed.
* **Union-Find:** Are these two pipes already part of the same connected network?

# The Master Graph Algorithm Selection Matrix

This is the ultimate "Quick-Look" table designed for the high-pressure environment of a live interview. It categorizes every algorithm by the **Graph Type**, the **Problem** it solves, and the **Constraint** you need to watch out for.


| Category | Algorithm | Graph Type | Solves Problem... | Key Logic / Constraint |
| --- | --- | --- | --- | --- |
| **Shortest Path** | **BFS** | Unweighted | Fewest steps / hops. | First-touch is the shortest. |
| **Shortest Path** | **Dijkstra** | Weighted (+) | Minimum cost from source. | Priority Queue; **No negative weights**. |
| **Shortest Path** | **A*** | Weighted (+) | Targeted path (Grid/Map). | $f(n) = g(n) + h(n)$ (Heuristic). |
| **Shortest Path** | **Bellman-Ford** | Weighted (+/-) | Shortest path with neg edges. | Relaxes all edges $V-1$ times. |
| **MST** | **Kruskal’s** | Undirected | Connect all for min cost. | Sort edges + **Union-Find**. |
| **MST** | **Prim’s** | Undirected | Connect all for min cost. | Grow from node + Priority Queue. |
| **SCC** | **Kosaraju’s** | Directed | Find mutually reachable loops. | DFS $\to$ Transpose $\to$ DFS. |
| **SCC** | **Tarjan’s** | Directed | Find SCCs / Bridges. | Single pass via **Low-link values**. |
| **Ordering** | **Kahn’s** | **DAG** | Task scheduling / Prerequisites. | Uses **In-degree** (BFS-style). |
| **Cycles** | **DFS/Union-Find** | Undirected | Is there a loop? | If neighbor is visited & NOT parent. |
| **Cycles** | **DFS Stack** | Directed | Is there a loop? | If node is in current **Recursion Stack**. |

---


---

## Interview "Red Flags" & Corrections

* **Red Flag:** Using Dijkstra on a graph with negative weights.
    - **Correction:** "Dijkstra's greedy nature fails with negative weights because it assumes once a node is visited, its shortest path is found. I should use **Bellman-Ford** instead."


* **Red Flag:** Using Topological Sort on an undirected graph.
    - **Correction:** "Topological sort requires a direction of dependency (A before B), so it only applies to **Directed Acyclic Graphs (DAGs)**."


* **Red Flag:** Calculating SCCs on an undirected graph.
    - **Correction:** "In undirected graphs, we just call these 'Connected Components.' SCCs are specific to **Directed Graphs** where reachability isn't always bidirectional."



---

### How to use this in an Interview:

When you hear a problem, visualize the "Water":

1. **Is the water uniform?** (Unweighted) → **BFS**.
2. **Does the water have different speeds?** (Weighted) → **Dijkstra**.
3. **Is the water being pulled to a finish line?** (Map/Grid) → **A***.
4. **Are you trying to connect the whole pipe system for the lowest cost?** → **MST**.
5. **Are there one-way valves and you're looking for traps?** → **SCC**.

---

### Final "Cheat Sheet" Summary


# Graph Interview Quick-Ref

## 1. Shortest Path
- BFS: Unweighted, Queue, O(V+E)
- Dijkstra: Weighted (+), Priority Queue, O(E log V)
- A*: Weighted (+) with Goal, PQ + Heuristic, O(E log V)
- Bellman-Ford: Weighted (+/-), O(VE)

## 2. Connectivity & MST
- Kruskal: Edge-based, Union-Find, O(E log E)
- Prim: Node-based, Priority Queue, O(E \log V)
- DSU: Grouping/Cycles, O(alpha(V))

## 3. Directed Graphs
- Topological Sort: Kahn's (In-degree) or DFS, O(V+E)
- Kosaraju: SCCs, 2-pass DFS + Transpose, O(V+E)
- Cycle Detection: 
    - Undirected: DFS + Parent Pointer
    - Directed: DFS + Recursion Stack


